load("@rules_foreign_cc//tools/build_defs:cmake.bzl", "cmake_external")

config_setting(
    name = "debug",
    values = {
        "compilation_mode": "dbg",
    },
)

filegroup(
    name = "all",
    srcs = glob(["**"]),
)

cmake_external(
    name = "glbinding",
    cache_entries = {
        "BUILD_SHARED_LIBS": "OFF",
        "OPTION_BUILD_TOOLS": "OFF",
        "OPTION_BUILD_EXAMPLES": "OFF",
    },
    lib_source = ":all",
    static_libraries = select({
        ":debug": ["libglbindingd.a"],
        "//conditions:default": ["libglbinding.a"],
    }),
    visibility = ["//visibility:public"],
)
